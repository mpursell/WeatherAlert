"""
test suite for weather_app
"""

import datetime

import weather_app


def test_get_wind_gusts(mocker):

    """
    function to test output if wind gust speed < 30
    """

    # arrange
    mocker.patch(
        "weather_app.get_weather",
        return_value={
            "SiteRep": {
                "Wx": {
                    "Param": [
                        {"name": "F", "units": "C", "$": "Feels Like Temperature"},
                        {"name": "G", "units": "mph", "$": "Wind Gust"},
                        {
                            "name": "H",
                            "units": "%",
                            "$": "Screen Relative Humidity",
                        },
                        {"name": "T", "units": "C", "$": "Temperature"},
                        {"name": "V", "units": "", "$": "Visibility"},
                        {"name": "D", "units": "compass", "$": "Wind Direction"},
                        {"name": "S", "units": "mph", "$": "Wind Speed"},
                        {"name": "U", "units": "", "$": "Max UV Index"},
                        {"name": "W", "units": "", "$": "Weather Type"},
                        {
                            "name": "Pp",
                            "units": "%",
                            "$": "Precipitation Probability",
                        },
                    ]
                },
                "DV": {
                    "dataDate": "2023-02-21T07:00:00Z",
                    "type": "Forecast",
                    "Location": {
                        "i": "310015",
                        "lat": "52.9545",
                        "lon": "-1.1565",
                        "name": "NOTTINGHAM",
                        "country": "ENGLAND",
                        "continent": "EUROPE",
                        "elevation": "61.0",
                        "Period": [
                            {
                                "type": "Day",
                                "value": "2023-02-21Z",
                                "Rep": [
                                    {
                                        "D": "W",
                                        "F": "8",
                                        "G": "16",
                                        "H": "82",
                                        "Pp": "8",
                                        "S": "7",
                                        "T": "9",
                                        "V": "GO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "180",
                                    },
                                    {
                                        "D": "W",
                                        "F": "7",
                                        "G": "13",
                                        "H": "84",
                                        "Pp": "8",
                                        "S": "9",
                                        "T": "9",
                                        "V": "GO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "360",
                                    },
                                    {
                                        "D": "SW",
                                        "F": "8",
                                        "G": "7",
                                        "H": "81",
                                        "Pp": "5",
                                        "S": "4",
                                        "T": "9",
                                        "V": "GO",
                                        "W": "7",
                                        "U": "1",
                                        "$": "540",
                                    },
                                    {
                                        "D": "SW",
                                        "F": "8",
                                        "G": "11",
                                        "H": "76",
                                        "Pp": "9",
                                        "S": "7",
                                        "T": "10",
                                        "V": "GO",
                                        "W": "7",
                                        "U": "1",
                                        "$": "720",
                                    },
                                    {
                                        "D": "SW",
                                        "F": "8",
                                        "G": "11",
                                        "H": "73",
                                        "Pp": "8",
                                        "S": "7",
                                        "T": "10",
                                        "V": "GO",
                                        "W": "7",
                                        "U": "1",
                                        "$": "900",
                                    },
                                    {
                                        "D": "SSW",
                                        "F": "8",
                                        "G": "11",
                                        "H": "77",
                                        "Pp": "9",
                                        "S": "7",
                                        "T": "10",
                                        "V": "MO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1080",
                                    },
                                    {
                                        "D": "SSW",
                                        "F": "8",
                                        "G": "13",
                                        "H": "79",
                                        "Pp": "9",
                                        "S": "7",
                                        "T": "9",
                                        "V": "GO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1260",
                                    },
                                ],
                            },
                            {
                                "type": "Day",
                                "value": "2023-02-22Z",
                                "Rep": [
                                    {
                                        "D": "SSW",
                                        "F": "6",
                                        "G": "13",
                                        "H": "82",
                                        "Pp": "10",
                                        "S": "7",
                                        "T": "8",
                                        "V": "GO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "0",
                                    },
                                    {
                                        "D": "SW",
                                        "F": "6",
                                        "G": "13",
                                        "H": "81",
                                        "Pp": "9",
                                        "S": "7",
                                        "T": "8",
                                        "V": "GO",
                                        "W": "7",
                                        "U": "0",
                                        "$": "180",
                                    },
                                    {
                                        "D": "SSW",
                                        "F": "5",
                                        "G": "16",
                                        "H": "87",
                                        "Pp": "62",
                                        "S": "9",
                                        "T": "7",
                                        "V": "MO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "360",
                                    },
                                    {
                                        "D": "W",
                                        "F": "4",
                                        "G": "16",
                                        "H": "88",
                                        "Pp": "58",
                                        "S": "9",
                                        "T": "7",
                                        "V": "GO",
                                        "W": "12",
                                        "U": "1",
                                        "$": "540",
                                    },
                                    {
                                        "D": "NW",
                                        "F": "5",
                                        "G": "18",
                                        "H": "76",
                                        "Pp": "10",
                                        "S": "9",
                                        "T": "8",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "1",
                                        "$": "720",
                                    },
                                    {
                                        "D": "NW",
                                        "F": "5",
                                        "G": "20",
                                        "H": "63",
                                        "Pp": "8",
                                        "S": "11",
                                        "T": "8",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "1",
                                        "$": "900",
                                    },
                                    {
                                        "D": "NW",
                                        "F": "4",
                                        "G": "16",
                                        "H": "67",
                                        "Pp": "5",
                                        "S": "9",
                                        "T": "6",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "1080",
                                    },
                                    {
                                        "D": "NNW",
                                        "F": "2",
                                        "G": "18",
                                        "H": "74",
                                        "Pp": "4",
                                        "S": "9",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "1260",
                                    },
                                ],
                            },
                            {
                                "type": "Day",
                                "value": "2023-02-23Z",
                                "Rep": [
                                    {
                                        "D": "NNW",
                                        "F": "2",
                                        "G": "18",
                                        "H": "80",
                                        "Pp": "4",
                                        "S": "7",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "0",
                                        "U": "0",
                                        "$": "0",
                                    },
                                    {
                                        "D": "N",
                                        "F": "0",
                                        "G": "22",
                                        "H": "81",
                                        "Pp": "4",
                                        "S": "11",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "2",
                                        "U": "0",
                                        "$": "180",
                                    },
                                    {
                                        "D": "N",
                                        "F": "0",
                                        "G": "22",
                                        "H": "83",
                                        "Pp": "4",
                                        "S": "11",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "360",
                                    },
                                    {
                                        "D": "N",
                                        "F": "1",
                                        "G": "22",
                                        "H": "74",
                                        "Pp": "1",
                                        "S": "11",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "3",
                                        "U": "1",
                                        "$": "540",
                                    },
                                    {
                                        "D": "N",
                                        "F": "4",
                                        "G": "20",
                                        "H": "57",
                                        "Pp": "1",
                                        "S": "9",
                                        "T": "7",
                                        "V": "VG",
                                        "W": "1",
                                        "U": "2",
                                        "$": "720",
                                    },
                                    {
                                        "D": "NNW",
                                        "F": "5",
                                        "G": "16",
                                        "H": "48",
                                        "Pp": "1",
                                        "S": "9",
                                        "T": "8",
                                        "V": "VG",
                                        "W": "3",
                                        "U": "1",
                                        "$": "900",
                                    },
                                    {
                                        "D": "NW",
                                        "F": "3",
                                        "G": "11",
                                        "H": "59",
                                        "Pp": "4",
                                        "S": "7",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "1080",
                                    },
                                    {
                                        "D": "W",
                                        "F": "2",
                                        "G": "13",
                                        "H": "71",
                                        "Pp": "5",
                                        "S": "7",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "1260",
                                    },
                                ],
                            },
                            {
                                "type": "Day",
                                "value": "2023-02-24Z",
                                "Rep": [
                                    {
                                        "D": "W",
                                        "F": "1",
                                        "G": "16",
                                        "H": "81",
                                        "Pp": "6",
                                        "S": "9",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "0",
                                    },
                                    {
                                        "D": "W",
                                        "F": "2",
                                        "G": "18",
                                        "H": "88",
                                        "Pp": "11",
                                        "S": "9",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "180",
                                    },
                                    {
                                        "D": "WNW",
                                        "F": "3",
                                        "G": "20",
                                        "H": "87",
                                        "Pp": "6",
                                        "S": "11",
                                        "T": "6",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "360",
                                    },
                                    {
                                        "D": "NNW",
                                        "F": "4",
                                        "G": "20",
                                        "H": "80",
                                        "Pp": "8",
                                        "S": "9",
                                        "T": "7",
                                        "V": "GO",
                                        "W": "7",
                                        "U": "1",
                                        "$": "540",
                                    },
                                    {
                                        "D": "N",
                                        "F": "6",
                                        "G": "25",
                                        "H": "64",
                                        "Pp": "9",
                                        "S": "13",
                                        "T": "9",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "2",
                                        "$": "720",
                                    },
                                    {
                                        "D": "N",
                                        "F": "5",
                                        "G": "25",
                                        "H": "60",
                                        "Pp": "7",
                                        "S": "13",
                                        "T": "8",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "1",
                                        "$": "900",
                                    },
                                    {
                                        "D": "NNE",
                                        "F": "3",
                                        "G": "22",
                                        "H": "64",
                                        "Pp": "10",
                                        "S": "11",
                                        "T": "6",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1080",
                                    },
                                    {
                                        "D": "N",
                                        "F": "2",
                                        "G": "20",
                                        "H": "69",
                                        "Pp": "7",
                                        "S": "9",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1260",
                                    },
                                ],
                            },
                            {
                                "type": "Day",
                                "value": "2023-02-25Z",
                                "Rep": [
                                    {
                                        "D": "N",
                                        "F": "1",
                                        "G": "18",
                                        "H": "73",
                                        "Pp": "5",
                                        "S": "9",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "0",
                                    },
                                    {
                                        "D": "N",
                                        "F": "1",
                                        "G": "18",
                                        "H": "74",
                                        "Pp": "5",
                                        "S": "9",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "180",
                                    },
                                    {
                                        "D": "N",
                                        "F": "0",
                                        "G": "18",
                                        "H": "75",
                                        "Pp": "8",
                                        "S": "9",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "360",
                                    },
                                    {
                                        "D": "N",
                                        "F": "1",
                                        "G": "18",
                                        "H": "71",
                                        "Pp": "8",
                                        "S": "9",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "1",
                                        "$": "540",
                                    },
                                    {
                                        "D": "NNE",
                                        "F": "3",
                                        "G": "22",
                                        "H": "62",
                                        "Pp": "8",
                                        "S": "11",
                                        "T": "6",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "1",
                                        "$": "720",
                                    },
                                    {
                                        "D": "NNE",
                                        "F": "4",
                                        "G": "22",
                                        "H": "58",
                                        "Pp": "9",
                                        "S": "11",
                                        "T": "7",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "1",
                                        "$": "900",
                                    },
                                    {
                                        "D": "NE",
                                        "F": "3",
                                        "G": "18",
                                        "H": "64",
                                        "Pp": "8",
                                        "S": "9",
                                        "T": "6",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1080",
                                    },
                                    {
                                        "D": "NNE",
                                        "F": "2",
                                        "G": "16",
                                        "H": "73",
                                        "Pp": "9",
                                        "S": "7",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1260",
                                    },
                                ],
                            },
                        ],
                    },
                },
            }
        },
    )

    mocker.patch(
        "weather_app.get_tomorrow_formatted_date_as_string", return_value="2023-02-25Z"
    )
    # act

    # assert
    # data set has wind gust speed below 30 so should return 0
    assert weather_app.get_wind_gusts() == 0


def test_get_wind_gusts_above_30(mocker):

    """
    function to test output if wind gust speed is 40
    """

    # arrange
    mocker.patch(
        "weather_app.get_weather",
        return_value={
            "SiteRep": {
                "Wx": {
                    "Param": [
                        {"name": "F", "units": "C", "$": "Feels Like Temperature"},
                        {"name": "G", "units": "mph", "$": "Wind Gust"},
                        {
                            "name": "H",
                            "units": "%",
                            "$": "Screen Relative Humidity",
                        },
                        {"name": "T", "units": "C", "$": "Temperature"},
                        {"name": "V", "units": "", "$": "Visibility"},
                        {"name": "D", "units": "compass", "$": "Wind Direction"},
                        {"name": "S", "units": "mph", "$": "Wind Speed"},
                        {"name": "U", "units": "", "$": "Max UV Index"},
                        {"name": "W", "units": "", "$": "Weather Type"},
                        {
                            "name": "Pp",
                            "units": "%",
                            "$": "Precipitation Probability",
                        },
                    ]
                },
                "DV": {
                    "dataDate": "2023-02-21T07:00:00Z",
                    "type": "Forecast",
                    "Location": {
                        "i": "310015",
                        "lat": "52.9545",
                        "lon": "-1.1565",
                        "name": "NOTTINGHAM",
                        "country": "ENGLAND",
                        "continent": "EUROPE",
                        "elevation": "61.0",
                        "Period": [
                            {
                                "type": "Day",
                                "value": "2023-02-21Z",
                                "Rep": [
                                    {
                                        "D": "W",
                                        "F": "8",
                                        "G": "16",
                                        "H": "82",
                                        "Pp": "8",
                                        "S": "7",
                                        "T": "9",
                                        "V": "GO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "180",
                                    },
                                    {
                                        "D": "W",
                                        "F": "7",
                                        "G": "13",
                                        "H": "84",
                                        "Pp": "8",
                                        "S": "9",
                                        "T": "9",
                                        "V": "GO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "360",
                                    },
                                    {
                                        "D": "SW",
                                        "F": "8",
                                        "G": "7",
                                        "H": "81",
                                        "Pp": "5",
                                        "S": "4",
                                        "T": "9",
                                        "V": "GO",
                                        "W": "7",
                                        "U": "1",
                                        "$": "540",
                                    },
                                    {
                                        "D": "SW",
                                        "F": "8",
                                        "G": "11",
                                        "H": "76",
                                        "Pp": "9",
                                        "S": "7",
                                        "T": "10",
                                        "V": "GO",
                                        "W": "7",
                                        "U": "1",
                                        "$": "720",
                                    },
                                    {
                                        "D": "SW",
                                        "F": "8",
                                        "G": "11",
                                        "H": "73",
                                        "Pp": "8",
                                        "S": "7",
                                        "T": "10",
                                        "V": "GO",
                                        "W": "7",
                                        "U": "1",
                                        "$": "900",
                                    },
                                    {
                                        "D": "SSW",
                                        "F": "8",
                                        "G": "11",
                                        "H": "77",
                                        "Pp": "9",
                                        "S": "7",
                                        "T": "10",
                                        "V": "MO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1080",
                                    },
                                    {
                                        "D": "SSW",
                                        "F": "8",
                                        "G": "13",
                                        "H": "79",
                                        "Pp": "9",
                                        "S": "7",
                                        "T": "9",
                                        "V": "GO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1260",
                                    },
                                ],
                            },
                            {
                                "type": "Day",
                                "value": "2023-02-22Z",
                                "Rep": [
                                    {
                                        "D": "SSW",
                                        "F": "6",
                                        "G": "13",
                                        "H": "82",
                                        "Pp": "10",
                                        "S": "7",
                                        "T": "8",
                                        "V": "GO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "0",
                                    },
                                    {
                                        "D": "SW",
                                        "F": "6",
                                        "G": "13",
                                        "H": "81",
                                        "Pp": "9",
                                        "S": "7",
                                        "T": "8",
                                        "V": "GO",
                                        "W": "7",
                                        "U": "0",
                                        "$": "180",
                                    },
                                    {
                                        "D": "SSW",
                                        "F": "5",
                                        "G": "16",
                                        "H": "87",
                                        "Pp": "62",
                                        "S": "9",
                                        "T": "7",
                                        "V": "MO",
                                        "W": "8",
                                        "U": "0",
                                        "$": "360",
                                    },
                                    {
                                        "D": "W",
                                        "F": "4",
                                        "G": "16",
                                        "H": "88",
                                        "Pp": "58",
                                        "S": "9",
                                        "T": "7",
                                        "V": "GO",
                                        "W": "12",
                                        "U": "1",
                                        "$": "540",
                                    },
                                    {
                                        "D": "NW",
                                        "F": "5",
                                        "G": "18",
                                        "H": "76",
                                        "Pp": "10",
                                        "S": "9",
                                        "T": "8",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "1",
                                        "$": "720",
                                    },
                                    {
                                        "D": "NW",
                                        "F": "5",
                                        "G": "20",
                                        "H": "63",
                                        "Pp": "8",
                                        "S": "11",
                                        "T": "8",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "1",
                                        "$": "900",
                                    },
                                    {
                                        "D": "NW",
                                        "F": "4",
                                        "G": "16",
                                        "H": "67",
                                        "Pp": "5",
                                        "S": "9",
                                        "T": "6",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "1080",
                                    },
                                    {
                                        "D": "NNW",
                                        "F": "2",
                                        "G": "18",
                                        "H": "74",
                                        "Pp": "4",
                                        "S": "9",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "1260",
                                    },
                                ],
                            },
                            {
                                "type": "Day",
                                "value": "2023-02-23Z",
                                "Rep": [
                                    {
                                        "D": "NNW",
                                        "F": "2",
                                        "G": "18",
                                        "H": "80",
                                        "Pp": "4",
                                        "S": "7",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "0",
                                        "U": "0",
                                        "$": "0",
                                    },
                                    {
                                        "D": "N",
                                        "F": "0",
                                        "G": "22",
                                        "H": "81",
                                        "Pp": "4",
                                        "S": "11",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "2",
                                        "U": "0",
                                        "$": "180",
                                    },
                                    {
                                        "D": "N",
                                        "F": "0",
                                        "G": "22",
                                        "H": "83",
                                        "Pp": "4",
                                        "S": "11",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "360",
                                    },
                                    {
                                        "D": "N",
                                        "F": "1",
                                        "G": "22",
                                        "H": "74",
                                        "Pp": "1",
                                        "S": "11",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "3",
                                        "U": "1",
                                        "$": "540",
                                    },
                                    {
                                        "D": "N",
                                        "F": "4",
                                        "G": "20",
                                        "H": "57",
                                        "Pp": "1",
                                        "S": "9",
                                        "T": "7",
                                        "V": "VG",
                                        "W": "1",
                                        "U": "2",
                                        "$": "720",
                                    },
                                    {
                                        "D": "NNW",
                                        "F": "5",
                                        "G": "16",
                                        "H": "48",
                                        "Pp": "1",
                                        "S": "9",
                                        "T": "8",
                                        "V": "VG",
                                        "W": "3",
                                        "U": "1",
                                        "$": "900",
                                    },
                                    {
                                        "D": "NW",
                                        "F": "3",
                                        "G": "11",
                                        "H": "59",
                                        "Pp": "4",
                                        "S": "7",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "1080",
                                    },
                                    {
                                        "D": "W",
                                        "F": "2",
                                        "G": "13",
                                        "H": "71",
                                        "Pp": "5",
                                        "S": "7",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "1260",
                                    },
                                ],
                            },
                            {
                                "type": "Day",
                                "value": "2023-02-24Z",
                                "Rep": [
                                    {
                                        "D": "W",
                                        "F": "1",
                                        "G": "16",
                                        "H": "81",
                                        "Pp": "6",
                                        "S": "9",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "0",
                                    },
                                    {
                                        "D": "W",
                                        "F": "2",
                                        "G": "18",
                                        "H": "88",
                                        "Pp": "11",
                                        "S": "9",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "180",
                                    },
                                    {
                                        "D": "WNW",
                                        "F": "3",
                                        "G": "20",
                                        "H": "87",
                                        "Pp": "6",
                                        "S": "11",
                                        "T": "6",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "360",
                                    },
                                    {
                                        "D": "NNW",
                                        "F": "4",
                                        "G": "20",
                                        "H": "80",
                                        "Pp": "8",
                                        "S": "9",
                                        "T": "7",
                                        "V": "GO",
                                        "W": "7",
                                        "U": "1",
                                        "$": "540",
                                    },
                                    {
                                        "D": "N",
                                        "F": "6",
                                        "G": "25",
                                        "H": "64",
                                        "Pp": "9",
                                        "S": "13",
                                        "T": "9",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "2",
                                        "$": "720",
                                    },
                                    {
                                        "D": "N",
                                        "F": "5",
                                        "G": "25",
                                        "H": "60",
                                        "Pp": "7",
                                        "S": "13",
                                        "T": "8",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "1",
                                        "$": "900",
                                    },
                                    {
                                        "D": "NNE",
                                        "F": "3",
                                        "G": "22",
                                        "H": "64",
                                        "Pp": "10",
                                        "S": "11",
                                        "T": "6",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1080",
                                    },
                                    {
                                        "D": "N",
                                        "F": "2",
                                        "G": "20",
                                        "H": "69",
                                        "Pp": "7",
                                        "S": "9",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1260",
                                    },
                                ],
                            },
                            {
                                "type": "Day",
                                "value": "2023-02-25Z",
                                "Rep": [
                                    {
                                        "D": "N",
                                        "F": "1",
                                        "G": "40",
                                        "H": "73",
                                        "Pp": "5",
                                        "S": "9",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "0",
                                    },
                                    {
                                        "D": "N",
                                        "F": "1",
                                        "G": "40",
                                        "H": "74",
                                        "Pp": "5",
                                        "S": "9",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "7",
                                        "U": "0",
                                        "$": "180",
                                    },
                                    {
                                        "D": "N",
                                        "F": "0",
                                        "G": "40",
                                        "H": "75",
                                        "Pp": "8",
                                        "S": "9",
                                        "T": "4",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "360",
                                    },
                                    {
                                        "D": "N",
                                        "F": "1",
                                        "G": "40",
                                        "H": "71",
                                        "Pp": "8",
                                        "S": "9",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "1",
                                        "$": "540",
                                    },
                                    {
                                        "D": "NNE",
                                        "F": "3",
                                        "G": "40",
                                        "H": "62",
                                        "Pp": "8",
                                        "S": "11",
                                        "T": "6",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "1",
                                        "$": "720",
                                    },
                                    {
                                        "D": "NNE",
                                        "F": "4",
                                        "G": "40",
                                        "H": "58",
                                        "Pp": "9",
                                        "S": "11",
                                        "T": "7",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "1",
                                        "$": "900",
                                    },
                                    {
                                        "D": "NE",
                                        "F": "3",
                                        "G": "40",
                                        "H": "64",
                                        "Pp": "8",
                                        "S": "9",
                                        "T": "6",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1080",
                                    },
                                    {
                                        "D": "NNE",
                                        "F": "2",
                                        "G": "40",
                                        "H": "73",
                                        "Pp": "9",
                                        "S": "7",
                                        "T": "5",
                                        "V": "VG",
                                        "W": "8",
                                        "U": "0",
                                        "$": "1260",
                                    },
                                ],
                            },
                        ],
                    },
                },
            }
        },
    )

    mocker.patch(
        "weather_app.get_tomorrow_formatted_date_as_string", return_value="2023-02-25Z"
    )
    # act

    # assert
    # data set has wind gust speed above 30 so should return gust speed
    assert weather_app.get_wind_gusts() == 40


def test_get_tomorrow_formatted_date_as_string():
    """
    test type string is returned
    """

    today = datetime.date(2023, 2, 21)

    assert isinstance(weather_app.get_tomorrow_formatted_date_as_string(), str)


def test_get_tomorrow_formatted_date_as_string_content():
    """
    tests the content of the string returned
    """

    today = datetime.date(2023, 2, 21)

    assert weather_app.get_tomorrow_formatted_date_as_string() == "2023-02-22Z"


def test_check_weather_over_max_gust_speed(mocker):
    """
    check that we return a Twilio text message if the gust speed is over the
    maximum
    """
    mocker.patch("weather_app.get_wind_gusts", return_value=30)

    assert (
        weather_app.check_weather()
        == "Wind Over 30mph tomorrow.  Take down the Bball hoop!"
    )
